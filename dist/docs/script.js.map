{"version":3,"sources":["script.js"],"names":["_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","from","test","_unsupportedIterableToArray","length","i","F","s","done","value","e","_e","f","TypeError","err","normalCompletion","didErr","step","next","_e2","arr","len","arr2","fileSizes","dark","light","auto","themeForm","document","getElementById","stylesheet","startupStylesheet","productHunt","copyButton","copyButtonFeedback","linkSnippets","querySelectorAll","table","fileName","fileSize","theme","prefersColorScheme","window","matchMedia","updateProductHunt","matches","src","concat","updateTheme","querySelector","localUrl","href","_step","_iterator","snippet","hidden","id","indexOf","innerText","toFixed","innerHTML","addEventListener","addListener","parentElement","removeChild","clipboard","navigator","snippetText","textContent","writeText","then","setTimeout","showModal","event","target","returnValue"],"mappings":"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","file":"script.js","sourcesContent":["'use strict'\n\nconst localBase = './bigiron.css/'\n\nconst fileSizes = {\n  dark: 2.57,\n  light: 2.55,\n  auto: 3.27\n}\n\nconst themeForm = document.getElementById('theme-form')\nconst stylesheet = document.getElementById('js-stylesheet')\nconst startupStylesheet = document.getElementById('js-startup-stylesheet')\nconst productHunt = document.getElementById('product-hunt')\nconst copyButton = document.getElementById('copy-button')\nconst copyButtonFeedback = document.getElementById('copy-button-feedback')\nconst linkSnippets = [].slice.call(document.querySelectorAll('#link-snippet-container > pre'))\n\nconst table = {\n  fileName: document.getElementById('table-file-name'),\n  fileSize: document.getElementById('table-file-size'),\n  theme: document.getElementById('table-theme')\n}\n\nconst prefersColorScheme = window.matchMedia('(prefers-color-scheme: light)')\n\nconst updateProductHunt = (theme) => {\n  theme = theme || (prefersColorScheme.matches ? 'light' : 'dark')\n  productHunt.src = `https://api.producthunt.com/widgets/embed-image/v1/top-post-badge.svg?post_id=150490&theme=${theme}&period=daily`\n}\n\nconst updateTheme = () => {\n  const theme = themeForm.querySelector('input[name=\"theme\"]:checked').value\n\n  const fileName = `${theme === 'auto' ? 'bigiron' : theme}.min.css`\n  const localUrl = `${localBase}${fileName}`\n\n  stylesheet.href = localUrl\n\n  for (const snippet of linkSnippets) {\n    snippet.hidden = snippet.id.indexOf(theme) === -1\n  }\n\n  table.fileName.innerText = fileName\n  table.fileSize.innerText = `${fileSizes[theme].toFixed(2)} kb`\n\n  if (theme === 'auto') {\n    updateProductHunt()\n    table.theme.innerHTML = `\n    Respects user-defined theme settings using <a style=\"--links: var(--code)\" href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-color-scheme\" target=\"_blank\" rel=\"noopener\"><code>prefers-color-scheme</code></a>.<br>\n    Light in browsers where the theme settings can't be detected.\n    `\n  } else {\n    updateProductHunt(theme)\n    table.theme.innerText = `Theme is forced to ${theme}.`\n  }\n}\n\nthemeForm.addEventListener('change', updateTheme)\n\nupdateProductHunt()\nprefersColorScheme.addListener(() => {\n  if (themeForm.theme.value !== 'auto') return\n  updateProductHunt()\n})\n\nupdateTheme()\nstartupStylesheet.parentElement.removeChild(startupStylesheet)\n\ncopyButton.addEventListener('click', () => {\n  const clipboard = navigator.clipboard || window.clipboard\n  const theme = themeForm.querySelector('input[name=\"theme\"]:checked').value\n  const snippetText = document.querySelector(`#link-snippet-${theme} code`).textContent\n\n  clipboard.writeText(snippetText)\n    .then(() => { copyButtonFeedback.textContent = '✔' })\n    .catch(() => { copyButtonFeedback.textContent = '❌' })\n    .then(() => setTimeout(() => { copyButtonFeedback.textContent = '' }, 1000))\n})\n\ndocument.getElementById('dialog-trigger').addEventListener('click', () => {\n  document.getElementById('dialog-result').innerText = ''\n  document.getElementById('dialog').showModal()\n})\n\ndocument.getElementById('dialog').addEventListener('close', (event) => {\n  document.getElementById('dialog-result').innerText = `Your answer: ${event.target.returnValue}`\n})\n"]}